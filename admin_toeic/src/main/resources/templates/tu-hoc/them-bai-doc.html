<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>

    <title>Bài đọc</title>
    <!-- Favicon icon -->

    <!-- Custom Stylesheet -->
    <th:block th:replace="fragment/header :: html_head"></th:block>


    <style>
        .file-input + .file-label {
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .file-input {
            width: 0;
            height: 0;
            opacity: 0;
            position: absolute;
            top: 0;
            left: 0;
        }

        .file-label {
            width: 200px;
            display: inline-block;
            padding: 8px 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .file-label:hover {
            background-color: #e9e9e9;
        }

    </style>
</head>

<body>

    <!--*******************
        Preloader start
    ********************-->
    <div id="preloader">
        <div class="loader">
            <svg class="circular" viewBox="25 25 50 50">
                <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="3" stroke-miterlimit="10" />
            </svg>
        </div>
    </div>
    <!--*******************
        Preloader end
    ********************-->

    
    <!--**********************************
        Main wrapper start
    ***********************************-->
    <div id="main-wrapper">

        <!--**********************************
            Nav header start
        ***********************************-->
        <div th:replace="fragment/header :: nav_header">
        </div>
        <!--**********************************
            Nav header end
        ***********************************-->

        <!--**********************************
            Header start
        ***********************************-->
        <div th:replace="fragment/header :: header">
        </div>
        <!--**********************************
            Header end ti-comment-alt
        ***********************************-->

        <!--**********************************
            Sidebar start
        ***********************************-->
        <div th:replace="fragment/header :: nk_sidebar"></div>
        <!--**********************************
            Sidebar end
        ***********************************-->

        <!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body">

            <div class="row page-titles mx-0">
                <div class="col p-md-0">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="javascript:void(0)">Bảng điều khiển</a></li>
                        <li class="breadcrumb-item active"><a href="javascript:void(0)">Bài đọc</a></li>
                    </ol>
                </div>
            </div>
            <!-- row -->

            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                              <form method="post" th:action="@{/admin/manage-self-learning/reading/save}" th:object="${selfLearningDto}" enctype="multipart/form-data">
                                <div class="d-flex justify-content-end">
                                    <button type="button" class="btn btn-danger" onclick="window.location.href='/admin/manage-self-learning/reading'">
                                        Hủy </button>
                                    <button type="submit" id="submitButton" class="btn btn-info ml-4">
                                        Lưu bài </button>
                               </div>

                            <div class="row align-items-center">
                                     
                             <div class="col-12" id="wrapper">
                                <div class="wrapper-question my-3">
                                    <input type="hidden" th:field="*{id}" class="form-control">
                                    <div class="form-group row">
                                            <label class="col-lg-2 col-form-label fw-bold" for="name-news">Tên bài: <span class="text-danger">*</span>
                                            </label>
                                            <div class="col-lg-7">
                                                <input type="text" th:field="*{name}" class="form-control" id="name-news" placeholder="Tên bài">
                                                <p class="text-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></p>

                                            </div>
                                        </div>

                                        <div class="form-group row">
                                            <label class="col-lg-2 col-form-label fw-bold">Tiêu đề<span class="text-danger">*</span></label>
                                            <div class="col-lg-8">
                                                <textarea class="form-control" th:field="*{title}" id="title"  placeholder="Nhập tiêu đề"></textarea>
                                                <p class="text-danger" th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></p>

                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-lg-2 col-form-label fw-bold">Hình ảnh</label>
                                            <div class="col-lg-5">
                                                <input type="text" th:field="*{linkImage}" class="form-control" id="input-link" placeholder="Link ảnh">
                                            </div>
                                            <div class="col-lg-5 text-center">
                                                <input type="file" th:field="*{fileImage}" class="btn mb-1 btn-rounded btn-success file-input" id="input-file" style="width: inherit;" accept="image/*"><span class="btn-icon-left"></span>
                                                <label for="input-file" class="file-label" th:text="${filename} != null ? ${filename} : 'Chọn file'">Chọn file</label>
                                                <input type="hidden" name="nameImage" id="name-image" th:value="${filename} != null ? ${filename} : ''">
                                            </div>
                                        </div>

                                        <div class="form-group row">
                                            <label class="col-lg-2 col-form-label fw-bold">Mô tả chính<span class="text-danger">*</span></label>
                                            <div class="col-lg-8">
                                                <textarea class="form-control" th:field="*{description}" id="description" placeholder="Nhập mô tả"></textarea>
                                                <p class="text-danger" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></p>
                                            </div>
                                        </div>
                            
                              </div>
                             </div>
                            </div>
                               <!--end tab  -->
                              </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- #/ container -->
        </div>
        <!--**********************************
            Content body end
        ***********************************-->
        
        
        <!--**********************************
            Footer start
        ***********************************-->
        <div th:replace="fragment/footer :: footer">
        </div>
        <!--**********************************
            Footer end
        ***********************************-->
    </div>
    <!--**********************************
        Main wrapper end
    ***********************************-->


    <!--**********************************
        Scripts
    ***********************************-->
    <script th:src="@{/plugins/common/common.min.js}"></script>
    <script th:src="@{/js/custom.min.js}"></script>
    <script th:src="@{/js/settings.js}"></script>
    <script th:src="@{/js/gleek.js}"></script>
    <script th:src="@{/js/styleSwitcher.js}"></script>

    <script th:src="@{/plugins/tables/js/jquery.dataTables.min.js}"></script>
    <script th:src="@{/plugins/tables/js/datatable/dataTables.bootstrap4.min.js}"></script>
    <script th:src="@{/plugins/tables/js/datatable-init/datatable-basic.min.js}"></script>

    <script th:src="@{/plugins/summernote/dist/summernote.min.js}"></script>
    <script th:src="@{/plugins/summernote/dist/summernote-init.js}"></script>
    <script th:src="@{/plugins/summernote/js/summernote-audio.js}"></script>

    <!-- <script src="../js/cau-hoi/short-convesation.js"></script> -->

    <script>
        $(document).ready(function() {
            $("#input-file").change(function() {
                var input = this;
                var fileName = input.files[0].name;
                // var fileName = $(this).val();
                if (fileName) {
                    $(this).siblings("label").text(fileName);
                    $("#name-image").val(fileName);
                } else {
                    $(this).siblings("label").text("Chọn file");
                    $("#name-image").val('');
                }
            });
        });
    </script>


   <script>
     $(document).ready(function() {
    // Khởi tạo Summernote cho các textarea có sẵn khi trang được tải
    $('textarea').each(function() {
        $(this).summernote({
            // Các tùy chọn cấu hình cho Summernote
        });
    });

    // Theo dõi các phần tử mới được thêm vào DOM
    // document.body.addEventListener('DOMNodeInserted', function(event) {
    //     var newNode = event.target;
    //     if (newNode.nodeName === 'DIV' && newNode.classList.contains('wrapper-question')) {
    //         $(newNode).find('textarea[name="description"]').summernote({
    //             // Các tùy chọn cấu hình cho Summernote
    //         });
    //     }
    // });
});
   </script>
   
 
</body>

</html>